{"version":3,"sources":["utils/axios.js","scripts/mobx/homeData.js","scripts/components/foot/index.js","scripts/components/head/index.js","scripts/views/shangcheng/index.js"],"names":["token","axios","defaults","baseURL","headers","common","post","interceptors","request","use","config","msg","sessionStorage","loading","console","log","error","offline","Promise","reject","response","setTimeout","data","hide","success","code","history","push","fail","HomeData","observable","deep","action","then","res","userPhone","phone","home1List","length","home3List","home4List","home5List","zhibo1List","shangchengnav1","shangchengnav2","goodsList","result","iid","goodsDetails","key","searchList","searchFlag","Head","state","footList","txt","path","name","icon","selectedTab","nowName","location","pathname","split","this","setState","className","unselectedTintColor","tintColor","barTintColor","hidden","tabBarPosition","map","item","index","Item","title","style","width","height","fontSize","selectedIcon","selected","badge","onPress","Component","placeholder","ref","autoFocusInst","onFocus","goSearch","Shangcheng","observer","getShangChengnav1","getShangChengnav2","getGoodsList","k","i","href","link","src","backgroundImage","alt","image","img","price","sale","onClick","toDetails"],"mappings":"8LAKIA,EAAQ,GAEZC,IAAMC,SAASC,QAAU,8BACzBF,IAAMC,SAASE,QAAQC,OAAvB,MAAyCL,EACzCC,IAAMC,SAASE,QAAQE,KAAK,gBAAkB,oCA0B9CL,IAAMM,aAAaC,QAAQC,KAAI,SAAUC,GAvBlC,IAAsBC,EA6B3B,OAHAX,EAAQY,eAAeZ,MAAUY,eAAeZ,MAAQ,GACxDU,EAAON,QAAP,MAA2BJ,EA3BAW,EA4Bd,8BA3BX,IAAME,QAAQF,EAAK,GAAG,WACpBG,QAAQC,IAAI,wBA2BTL,KAGN,SAAUM,GAjBN,IAAiBL,EAoBtB,OApBsBA,EAmBd,uDAlBR,IAAMM,QAAQN,EAAK,GAmBZO,QAAQC,OAAOH,MAMxBf,IAAMM,aAAaa,SAASX,KAAI,SAAUW,GAWtC,OARAC,YAAW,WAvCR,IAAsBV,IAwCVS,EAASE,KAAKX,IAvC7B,IAAMY,OACN,IAAMC,QAAQb,EAAK,KAwCjB,KACqB,OAApBS,EAASE,KAAKG,MACfC,IAAQC,KAAK,UAGRP,KAEN,SAAUJ,GA5CR,IAAmBL,EA8CtB,OA9CsBA,EA6CZ,sDA5CZ,IAAMY,OACN,IAAMK,KAAKjB,EAAK,GA4CPO,QAAQC,OAAOH,O,4KChEpBa,G,QAEDC,IAAWC,K,EACXD,IAAWC,K,EACXD,IAAWC,K,EACXD,IAAWC,K,EACXD,IAAWC,K,EAEXD,IAAWC,K,EAEXD,IAAWC,K,EAEXD,IAAWC,K,EACXD,IAAWC,K,EACXD,IAAWC,K,EAEXD,IAAWC,K,EAEXD,IAAWC,K,EAEXD,IAAWC,K,+mCAnBXD,K,wEAAuB,M,kHACI,M,kHACA,M,kHACA,M,kHACA,M,kHACA,M,kHAEA,M,mHAEC,M,uHAEI,M,uHACA,M,kHACL,M,qHAEG,M,oHAEH,K,mHAEA,M,sCAI3BE,K,oFAAiB,WACd/B,IAAMK,KAAK,uBAAuB2B,MAAK,SAAAC,GACnC,EAAKC,UAAWD,EAAIZ,KAAKc,a,0CAKhCJ,K,oFAAqB,WACf,EAAKK,UAAUC,QAAQ,GACtBrC,IAAMK,KAAK,oBAAoB2B,MAAK,SAAAC,GACd,KAAfA,EAAIZ,KAAKG,OACR,EAAKY,UAAU,IAED,KAAfH,EAAIZ,KAAKG,OACR,EAAKY,UAAWH,EAAIZ,KAAKe,cAKrCvB,QAAQC,IAAI,EAAKsB,UAAUC,Y,0CAI9BN,K,oFAAqB,WACf,EAAKO,UAAUD,QAAQ,GACtBrC,IAAMK,KAAK,oBAAoB2B,MAAK,SAAAC,GAChCpB,QAAQC,IAAI,eAAemB,GAC3B,EAAKK,UAAWL,EAAIZ,KAAKiB,iB,0CAMpCP,K,oFAAqB,WACf,EAAKQ,UAAUF,QAAQ,GACtBrC,IAAMK,KAAK,oBAAoB2B,MAAK,SAAAC,GACnB,KAAVA,EAAIT,OACH,EAAKe,UAAU,IAEnB1B,QAAQC,IAAImB,GACZ,EAAKM,UAAWN,EAAIZ,KAAKkB,iB,0CAMpCR,K,oFAAqB,WACf,EAAKS,UAAUH,QAAQ,GACtBrC,IAAMK,KAAK,oBAAoB2B,MAAK,SAAAC,GAChCpB,QAAQC,IAAImB,GACZ,EAAKO,UAAWP,EAAIZ,KAAKmB,iB,2CAQpCT,K,oFAAsB,WAChB,EAAKU,WAAWJ,QAAQ,GACvBrC,IAAMK,KAAK,iBAAiB2B,MAAK,SAAAC,GAC7BpB,QAAQC,IAAImB,GACZ,EAAKQ,WAAYR,EAAIZ,KAAKoB,WAC1B5B,QAAQC,IAAImB,EAAIZ,KAAKoB,mB,+CAQhCV,K,oFAA0B,WACpB,EAAKW,eAAeL,QAAQ,GAC3BrC,IAAMK,KAAK,yBAAyB2B,MAAK,SAAAC,GAErC,EAAKS,eAAgBT,EAAIZ,KAAKqB,sB,+CAOzCX,K,oFAA0B,WACpB,EAAKY,eAAeN,QAAQ,GAC3BrC,IAAMK,KAAK,yBAAyB2B,MAAK,SAAAC,GAErC,EAAKU,eAAgBV,EAAIZ,KAAKsB,sB,0CAQzCZ,K,oFAAqB,WACf,EAAKa,UAAUP,QAAQ,GACtBrC,IAAMK,KAAK,mBAAmB2B,MAAK,SAAAC,GAClB,KAAVA,EAAIT,KACH,EAAKoB,UAAU,IAEf/B,QAAQC,IAAImB,GACZ,EAAKW,UAAWX,EAAIZ,KAAKwB,OACzBhC,QAAQC,IAAI,EAAK8B,mB,6CAShCb,K,oFAAwB,SAACe,GAElB9C,IAAMK,KAAK,yBAAyByC,GAAKd,MAAK,SAAAC,GACtCpB,QAAQC,IAAImB,GACZ,EAAKc,aAAcd,EAAIZ,KAAKwB,OAAO,GACnChC,QAAQC,IAAI,EAAKiC,qB,uCAOhChB,K,oFAAkB,SAACiB,GACZhD,IAAMK,KAAK,gBAAgB,CAAC2C,QAAMhB,MAAK,SAAAC,GAC/BpB,QAAQC,IAAImB,EAAIZ,KAAKwB,QAClBZ,EAAIZ,KAAKwB,OAAOR,OAAO,IACtB,EAAKY,WAAYhB,EAAIZ,KAAKwB,OAC1B,EAAKK,YAAY,U,uCAMpCnB,K,oFAAiB,WACd,EAAKmB,YAAY,M,0CAKpBnB,K,oFAAoB,WACb,EAAKG,WACLlC,IAAMK,KAAK,uBAAuB2B,MAAK,SAAAC,GACpC,EAAKC,UAAWD,EAAIZ,KAAKc,a,GAWzB,QAAIP,G,8HC9KbuB,G,mBACF,aAAe,IAAD,8BACV,+CACKC,MAAQ,CACTC,SAAU,CACN,CAAEC,IAAK,eAAMC,KAAM,aAAcC,KAAM,OAAQC,KAAM,cACrD,CAAEH,IAAK,eAAMC,KAAM,cAAeC,KAAM,QAASC,KAAM,aACvD,CAAEH,IAAK,eAAMC,KAAM,mBAAoBC,KAAM,aAAcC,KAAM,eACjE,CAAEH,IAAK,eAAMC,KAAM,aAAcC,KAAM,OAAQC,KAAM,iBAEzDC,YAAa,QATP,E,iFAaV,IAAMC,EAAUlC,IAAQmC,SAASC,SAASC,MAAM,UAAU,GAC1DC,KAAKC,SAAS,CACVN,YAAaC,M,+BAGX,IAAD,OACL,OACI,yBAAKM,UAAU,QACR,uBACCC,oBAAoB,UACpBC,UAAU,UACVC,aAAa,QACbC,OAAQN,KAAKX,MAAMiB,OACnBC,eAAe,UAGXP,KAAKX,MAAMC,SAASkB,KAAI,SAACC,EAAMC,GAC3B,OACI,sBAAQC,KAAR,CACIC,MAAOH,EAAKlB,IACZN,IAAKyB,EACLhB,KAAM,yBAAKmB,MAAO,CACdC,MAAO,OACPC,OAAQ,OACRC,SAAU,QAEVd,UAAW,YAAcO,EAAKf,OAGlCuB,aAAc,yBAAKJ,MAAO,CACtBC,MAAO,OACPC,OAAQ,OACRC,SAAU,QAEVd,UAAW,YAAcO,EAAKf,OAGlCwB,SAAU,EAAK7B,MAAMM,cAAgBc,EAAKhB,KAC1C0B,MAAoB,QAAbV,EAAKhB,KAAiB,EAAI,GACjC2B,QAAS,WACL,EAAKnB,SAAS,CACVN,YAAac,EAAKhB,OAEtB/B,IAAQC,KAAK8C,EAAKjB,kB,GAzDvC6B,cAwEJjC,O,+KCxETA,G,0LAGE1B,IAAQC,KAAK,a,+BAIP,IAAD,OACL,OACI,yBAAKuC,UAAU,QACX,4BACA,yBAAKA,UAAU,OACX,uBAAGA,UAAU,8BAA8BW,MAAO,CAAEG,SAAU,UAC9D,uBAAWM,YAAY,kCAASC,IAAK,SAAAA,GAAG,OAAI,EAAKC,cAAgBD,GAAKV,MAAQ,CAACC,MAAM,OAASW,QAAUzB,KAAK0B,WAC7G,uBAAGxB,UAAU,wBAAwBjB,IAAI,IAAI4B,MAAO,CAAEG,SAAU,gB,GAdjEK,cAuBJjC,O,0MCnBRuC,EADNC,Y,8LAIO/D,IAASgE,oBACThE,IAASiE,oBAGTjE,IAASkE,iB,gCAGHhD,GACNjC,QAAQC,IAAIgC,GACZrB,IAAQC,KAAR,mBAAyBoB,M,+BAGpB,IAAD,OACJ,OACI,yBAAKmB,UAAU,cACX,kBAAC,IAAD,MACA,yBAAKA,UAAU,QAEPrC,IAASc,gBAAgBd,IAASc,eAAe6B,KAAI,SAACwB,EAAEC,GACpD,OACI,uBAAGC,KAAMF,EAAEG,KAAMlD,IAAKgD,GAClB,yBAAKG,IAAKJ,EAAEK,gBAAiBC,IAAI,UAQrD,yBAAKpC,UAAU,QAEPrC,IAASe,gBAAgBf,IAASe,eAAe4B,KAAI,SAACwB,EAAEC,GACpD,OACI,uBAAGC,KAAMF,EAAEG,KAAMlD,IAAKgD,GAClB,yBAAKG,IAAKJ,EAAEO,MAAOD,IAAI,KACvB,+BAAKN,EAAEpB,MAAP,UAOhB,oFACJ,yBAAKV,UAAU,SAGPrC,IAASgB,WAAWhB,IAASgB,UAAU2B,KAAI,SAACwB,EAAEC,GAC1C,OACI,yBAAK/B,UAAU,YAAYjB,IAAKgD,GAC5B,yBAAKG,IAAKJ,EAAEQ,IAAKF,IAAI,KACrB,+BAAKN,EAAEpB,MAAP,KACA,yBAAKV,UAAU,SACX,oCAAK8B,EAAES,MAAP,KACA,kCAAQT,EAAEU,KAAV,aAEJ,uBAAQC,QAAU,WAAK,EAAKC,UAAUZ,EAAEjD,OAAxC,iCAUpB,kBAAC,IAAD,W,GApEUsC,e,EA0EXM,a","file":"static/js/14.a66df4bd.chunk.js","sourcesContent":["\r\nimport axios from \"axios\";\r\nimport {Toast} from \"antd-mobile\"\r\nimport {history} from \"./history\";\r\n\r\nvar token = \"\";\r\n// axios.defaults.baseURL = \"http://localhost:2021/\"   // 基路径\r\naxios.defaults.baseURL = \"http://dengchuang.top:2021/\"   // 基路径\r\naxios.defaults.headers.common['token'] = token;     // token 为 空\r\naxios.defaults.headers.post['Content-Type'] = 'application/x-www-form-urlencoded';\r\n\r\n//封装对应的 成功 失败提示 在下面调用\r\nexport function loadingToast(msg) {\r\n    Toast.loading(msg, 3, () => {\r\n      console.log('Load complete !!!');\r\n    });\r\n}\r\nexport function successToast(msg) {\r\n    Toast.hide();\r\n    Toast.success(msg, 1);\r\n}\r\n\r\nexport function failToast(msg) {\r\n  Toast.hide();\r\n  Toast.fail(msg, 1);\r\n}\r\n\r\nexport function offline(msg) {\r\n  Toast.offline(msg, 1);\r\n}\r\n\r\n\r\n\r\n// axios 拦截器   Interceptors\r\n// 请求 request 拦截器   请求之前业务逻辑 配置 data /headers\r\naxios.interceptors.request.use(function (config) {\r\n  // 请求发送之前做的事情\r\n  \r\n  token = sessionStorage.token ?   sessionStorage.token : \"\";\r\n  config.headers['token']  = token;\r\n  loadingToast(\"努力加载...\");\r\n  return config;\r\n\r\n  \r\n}, function (error) {\r\n  // 请求发送 失败 \r\n  offline(\"请求失败---网络错误!\")\r\n  return Promise.reject(error);\r\n  \r\n});\r\n\r\n\r\n// 响应 response 拦截器   根据返回的状态码 做对应的业务逻辑 \r\naxios.interceptors.response.use(function (response) {\r\n    // 获取到响应数据做的事情\r\n    // console.log(response)\r\n    setTimeout(()=>{\r\n      successToast(response.data.msg);\r\n      \r\n    },1000);\r\n    if(response.data.code==\"400\"){\r\n      history.push(\"/login\");\r\n    };\r\n    \r\n    return response;\r\n\r\n  }, function (error) {\r\n    failToast(\"服务器error-响应失败!!!\");\r\n    return Promise.reject(error);\r\n});\r\n\r\n\r\n\r\n\r\nexport {axios}\r\n\r\n","import {observable,action} from \"mobx\";\r\nimport {axios} from \"~/axios\"\r\nimport { history } from \"~/history.js\";\r\n\r\nclass HomeData{\r\n    @observable bannerList =[]  //banner 图数据\r\n    @observable.deep userPhone =\"\"  //banner 图数据\r\n    @observable.deep home1List =[]  //home1 数据\r\n    @observable.deep home3List =[]  //home3 数据\r\n    @observable.deep home4List =[]  //home4 数据\r\n    @observable.deep home5List =[]  //home5 数据\r\n    \r\n    @observable.deep userPhone =\"\"  //用户手机号\r\n\r\n    @observable.deep zhibo1List =[]  //直播1 数据\r\n    \r\n    @observable.deep shangchengnav1 =[]  //商城nav1 数据\r\n    @observable.deep shangchengnav2 =[]  //商城nav1 数据\r\n    @observable.deep goodsList =[]  //商城nav1 数据\r\n\r\n    @observable.deep goodsDetails =\"\"  //获取商品详情 数据\r\n\r\n    @observable.deep searchFlag=true;      //全选\r\n\r\n    @observable.deep searchList=[];      //查询的商品数据\r\n\r\n\r\n    //请求异步数据\r\n    @action getPhone =()=>{\r\n        axios.post(\"/react/homeGetPhone\").then(res=>{\r\n            this.userPhone =res.data.phone\r\n        })\r\n    }\r\n    \r\n    //请求异步数据\r\n    @action getHome1List =()=>{\r\n        if(this.home1List.length<=0){\r\n            axios.post(\"/react/home1Data\").then(res=>{\r\n                if(res.data.code==400){\r\n                    this.home1List=[] \r\n                }\r\n                if(res.data.code==200){\r\n                    this.home1List =res.data.home1List\r\n                }\r\n            })\r\n\r\n        }\r\n        console.log(this.home1List.length)\r\n    }\r\n\r\n    //请求异步数据\r\n    @action getHome3List =()=>{\r\n        if(this.home3List.length<=0){\r\n            axios.post(\"/react/home3Data\").then(res=>{\r\n                console.log(\"getHome3List\",res)\r\n                this.home3List =res.data.home3List\r\n            })\r\n        }\r\n    }\r\n\r\n    //请求异步数据\r\n    @action getHome4List =()=>{\r\n        if(this.home4List.length<=0){\r\n            axios.post(\"/react/home4Data\").then(res=>{\r\n                if(res.code==400){\r\n                    this.home4List=[]\r\n                }\r\n                console.log(res)\r\n                this.home4List =res.data.home4List\r\n            })\r\n\r\n        }\r\n    }\r\n    //请求异步数据\r\n    @action getHome5List =()=>{\r\n        if(this.home5List.length<=0){\r\n            axios.post(\"/react/home5Data\").then(res=>{\r\n                console.log(res)\r\n                this.home5List =res.data.home5List\r\n            })\r\n\r\n        }\r\n    }\r\n\r\n\r\n    //请求异步 直播01 数据\r\n    @action getZhiBo1List =()=>{\r\n        if(this.zhibo1List.length<=0){\r\n            axios.post(\"/react/zhibo1\").then(res=>{\r\n                console.log(res)\r\n                this.zhibo1List =res.data.zhibo1List\r\n                console.log(res.data.zhibo1List)\r\n            })\r\n\r\n        }\r\n    }\r\n\r\n\r\n    //请求异步 商城01 数据\r\n    @action getShangChengnav1 =()=>{\r\n        if(this.shangchengnav1.length<=0){\r\n            axios.post(\"/react/shangchengnav1\").then(res=>{\r\n                // console.log(res)\r\n                this.shangchengnav1 =res.data.shangchengnav1\r\n                // console.log(res.data.shangchengnav1)\r\n            })\r\n        }\r\n    }\r\n\r\n    //请求异步 商城02 数据\r\n    @action getShangChengnav2 =()=>{\r\n        if(this.shangchengnav2.length<=0){\r\n            axios.post(\"/react/shangchengnav2\").then(res=>{\r\n                // console.log(res)\r\n                this.shangchengnav2 =res.data.shangchengnav2\r\n                // console.log(res.data.shangchengnav2)\r\n            })\r\n\r\n        }\r\n    }\r\n\r\n    //请求异步 商城的商品  数据\r\n    @action getGoodsList =()=>{\r\n        if(this.goodsList.length<=0){\r\n            axios.post(\"/react/getGoods\").then(res=>{\r\n                if(res.code==400){\r\n                    this.goodsList=[]\r\n                }else{\r\n                    console.log(res)\r\n                    this.goodsList =res.data.result\r\n                    console.log(this.goodsList)\r\n                }\r\n            })\r\n\r\n        }\r\n    }\r\n\r\n\r\n    //请求异步 商品详情  数据\r\n    @action GetGoodsDetails =(iid)=>{   \r\n        \r\n            axios.post(\"/react/getGoodsDetails\",iid).then(res=>{\r\n                    console.log(res)\r\n                    this.goodsDetails =res.data.result[0]\r\n                    console.log(this.goodsDetails)\r\n            })  \r\n       \r\n    }\r\n\r\n\r\n    //搜索接口\r\n    @action getSearch =(key)=>{   \r\n            axios.post(\"/react/search\",{key}).then(res=>{\r\n                    console.log(res.data.result)\r\n                    if(res.data.result.length>0){\r\n                        this.searchList =res.data.result\r\n                        this.searchFlag =false\r\n                    }\r\n            })  \r\n    }\r\n\r\n    //取消搜索切换\r\n    @action getCancel=()=>{\r\n        this.searchFlag =true\r\n    }\r\n\r\n\r\n    //获取用户手机号\r\n    @action getUserPhone=()=>{\r\n        if(!this.userPhone){\r\n            axios.post(\"/react/getUserPhone\").then(res=>{\r\n               this.userPhone =res.data.phone\r\n            })\r\n\r\n        }\r\n\r\n    }\r\n\r\n\r\n    \r\n}\r\n\r\nexport default new HomeData;","import React, { Component } from \"react\";\r\n\r\nimport { SearchBar,WhiteSpace ,TabBar} from \"antd-mobile\"\r\n\r\nimport { history } from \"~/history\"\r\n\r\nimport \"./index.scss\"\r\n\r\nclass Head extends Component {\r\n    constructor() {\r\n        super();\r\n        this.state = {\r\n            footList: [\r\n                { txt: \"首页\", path: \"/main/home\", name: \"home\", icon: \"icon-zhuye\" },\r\n                { txt: \"直播\", path: \"/main/zhibo\", name: \"zhibo\", icon: \"icon-kefu\" },\r\n                { txt: \"商城\", path: \"/main/shangcheng\", name: \"shangcheng\", icon: \"icon-ziyuan\" },\r\n                { txt: \"我的\", path: \"/main/mine\", name: \"mine\", icon: \"icon-guanzhu\" }\r\n            ],\r\n            selectedTab: \"home\"\r\n        }\r\n    };\r\n    componentDidMount() {\r\n        const nowName = history.location.pathname.split(\"/main/\")[1]\r\n        this.setState({\r\n            selectedTab: nowName\r\n        })\r\n    }\r\n    render() {\r\n        return (\r\n            <div className=\"foot\">\r\n                   <TabBar\r\n                    unselectedTintColor=\"#949494\"\r\n                    tintColor=\"#33A3F4\"\r\n                    barTintColor=\"white\"\r\n                    hidden={this.state.hidden}\r\n                    tabBarPosition=\"bottom\"\r\n                >\r\n                    {\r\n                        this.state.footList.map((item, index) => {\r\n                            return (\r\n                                <TabBar.Item\r\n                                    title={item.txt}\r\n                                    key={index}\r\n                                    icon={<div style={{\r\n                                        width: '26px',\r\n                                        height: '26px',\r\n                                        fontSize: \"20px\"\r\n                                    }}\r\n                                        className={\"iconfont \" + item.icon}\r\n                                    />\r\n                                    }\r\n                                    selectedIcon={<div style={{\r\n                                        width: '26px',\r\n                                        height: '26px',\r\n                                        fontSize: \"20px\"\r\n                                    }}\r\n                                        className={\"iconfont \" + item.icon}\r\n                                    />\r\n                                    }\r\n                                    selected={this.state.selectedTab === item.name}\r\n                                    badge={item.name == \"cart\" ? 6 : \"\"}\r\n                                    onPress={() => {\r\n                                        this.setState({\r\n                                            selectedTab: item.name,\r\n                                        });\r\n                                        history.push(item.path)\r\n                                    }}\r\n                                >\r\n\r\n                                </TabBar.Item>\r\n                            )\r\n                        })\r\n                    }\r\n                </TabBar>         \r\n\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Head","import React, { Component } from \"react\";\r\n\r\nimport { SearchBar,WhiteSpace } from \"antd-mobile\"\r\n\r\nimport { history } from \"~/history\"\r\n\r\nimport \"./index.scss\"\r\n\r\nclass Head extends Component {\r\n\r\n    goSearch(){\r\n        history.push(\"/search\")\r\n    }\r\n\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"head\">\r\n                <WhiteSpace />\r\n                <div className=\"top\">\r\n                    <i className=\"iconfont icon-daohangfenlei\" style={{ fontSize: '22px' }} ></i>\r\n                    <SearchBar placeholder=\"开始种草吧~\" ref={ref => this.autoFocusInst = ref} style={ {width:\"88%\"} } onFocus={ this.goSearch }  />\r\n                    <i className=\"iconfont icon-xiaoxi1\" key=\"0\" style={{ fontSize: '22px' }} ></i>\r\n\r\n                </div>\r\n\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Head","import React , {Component} from \"react\";\r\nimport \"./index.scss\"\r\nimport Foot from \"../../components/foot\"\r\nimport Head from \"../../components/head\"\r\nimport { history } from \"~/history.js\";\r\n\r\nimport HomeData from \"../../mobx/homeData\"\r\nimport { observer } from \"mobx-react\"\r\n\r\nimport {Button} from \"antd-mobile\"\r\n\r\n@observer\r\n class Shangcheng extends Component {\r\n\r\n    componentDidMount(){\r\n        HomeData.getShangChengnav1()\r\n        HomeData.getShangChengnav2()\r\n        \r\n        //获取商品数据\r\n        HomeData.getGoodsList()\r\n\r\n    };\r\n    toDetails(iid){\r\n        console.log(iid);\r\n        history.push(`/details/${iid}`)\r\n    }\r\n\r\n    render(){\r\n        return (\r\n            <div className=\"shangcheng\">\r\n                <Head></Head>\r\n                <div className=\"nav1\">\r\n                    {\r\n                        HomeData.shangchengnav1&&HomeData.shangchengnav1.map((k,i)=>{\r\n                            return(\r\n                                <a href={k.link} key={i}>\r\n                                    <img src={k.backgroundImage} alt=\"\"  />\r\n\r\n                                </a>\r\n                            )\r\n                        })\r\n                    }\r\n                </div>\r\n                {/* --------nav2 */}\r\n                <div className=\"nav2\">\r\n                    {\r\n                        HomeData.shangchengnav2&&HomeData.shangchengnav2.map((k,i)=>{\r\n                            return(\r\n                                <a href={k.link} key={i}>\r\n                                    <img src={k.image} alt=\"\"  />\r\n                                    <p> {k.title} </p>\r\n                                </a>\r\n                            )\r\n                        })\r\n                    }\r\n                </div>\r\n                {/* ------商品详情展示 */}\r\n                    <h4> —— 猜你喜欢 —— </h4>\r\n                <div className=\"goods\">\r\n\r\n                    {\r\n                        HomeData.goodsList&&HomeData.goodsList.map((k,i)=>{\r\n                            return (\r\n                                <div className=\"goodsList\" key={i} >\r\n                                    <img src={k.img} alt=\"\"/>\r\n                                    <p> {k.title} </p>\r\n                                    <div className=\"price\">\r\n                                        <b>￥{k.price} </b>\r\n                                        <span> {k.sale}k❤ </span>\r\n                                    </div>\r\n                                    <Button onClick={ ()=>{this.toDetails(k.iid)} } >点击购买</Button>\r\n                                </div>\r\n                            )\r\n                        })\r\n                    }\r\n\r\n                </div>\r\n\r\n\r\n\r\n                <Foot></Foot>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Shangcheng"],"sourceRoot":""}