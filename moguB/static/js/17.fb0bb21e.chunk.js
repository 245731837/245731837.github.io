(this.webpackJsonpmogu=this.webpackJsonpmogu||[]).push([[17],{136:function(e,t,n){"use strict";n(146);var a=n(147),o=n.n(a),l=n(137),c=n.n(l);n.d(t,"a",(function(){return c.a}));var s=n(50),r="";c.a.defaults.baseURL="http://dengchuang.top:2021/",c.a.defaults.headers.common.token=r,c.a.defaults.headers.post["Content-Type"]="application/x-www-form-urlencoded",c.a.interceptors.request.use((function(e){var t;return r=sessionStorage.token?sessionStorage.token:"",e.headers.token=r,t="\u52aa\u529b\u52a0\u8f7d...",o.a.loading(t,3,(function(){console.log("Load complete !!!")})),e}),(function(e){var t;return t="\u8bf7\u6c42\u5931\u8d25---\u7f51\u7edc\u9519\u8bef!",o.a.offline(t,1),Promise.reject(e)})),c.a.interceptors.response.use((function(e){return setTimeout((function(){var t;t=e.data.msg,o.a.hide(),o.a.success(t,1)}),1e3),"400"==e.data.code&&s.a.push("/login"),e}),(function(e){var t;return t="\u670d\u52a1\u5668error-\u54cd\u5e94\u5931\u8d25!!!",o.a.hide(),o.a.fail(t,1),Promise.reject(e)}))},206:function(e,t,n){},276:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return x}));n(144);var a=n(145),o=n.n(a),l=(n(162),n(179)),c=n.n(l),s=(n(197),n(199)),r=n.n(s),u=(n(164),n(166)),i=n.n(u),h=(n(149),n(150)),p=n.n(h),d=(n(142),n(143)),m=n.n(d),f=n(14),g=n(15),v=n(17),k=n(16),E=n(18),C=n(0),b=n.n(C),y=(n(206),n(50)),F=n(136),S=null,j=/^[0-9]{4}$/,w=/^1(3|5|6|7|8|9)[0-9]{9}$/,x=function(e){function t(){var e;return Object(f.a)(this,t),(e=Object(v.a)(this,Object(k.a)(t).call(this))).checkPhone=function(t){console.log(t),w.test(t)?e.setState({pFlag:!1}):e.setState({pFlag:!0})},e.checkCode=function(t){console.log(e.phone.state.value),w.test(e.phone.state.value)&&j.test(t)?e.setState({cFlag:!1}):(console.log(231),e.setState({cFlag:!0}))},e.sendCode=function(){var t=e.phone.state.value;F.a.post("react/sendCode",{phone:t}).then((function(e){console.log(e)})),e.timeCount()},e.tologin=function(){console.log(e.phone.state.value),console.log(e.code.state.value);var t=e.phone.state.value,n=e.code.state.value;F.a.post("/react/checkCode",{phone:t,code:n}).then((function(e){console.log(e),e.data.type?(sessionStorage.token=e.data.token,y.a.push("/main")):sessionStorage.token=""}))},e.toHome=function(){y.a.push("/main")},e.state={pFlag:!0,cFlag:!0,count:10,txt:"\u53d1\u9001\u9a8c\u8bc1\u7801"},e}return Object(E.a)(t,e),Object(g.a)(t,[{key:"timeCount",value:function(){var e=this;this.setState({count:--this.state.count,txt:"\u5012\u8ba1\u65f6".concat(this.state.count),pFlag:!0}),S=setInterval((function(){e.state.count>0?e.setState({count:--e.state.count,txt:"\u5012\u8ba1\u65f6".concat(e.state.count),pFlag:!0}):(clearInterval(S),e.setState({count:10,txt:"\u53d1\u9001\u9a8c\u8bc1\u7801",pFlag:!1}))}),1e3)}},{key:"render",value:function(){var e=this,t=this.state,n=t.pFlag,a=t.cFlag,l=t.txt;return b.a.createElement("div",{className:"login"},b.a.createElement(i.a,null,b.a.createElement(m.a,null),b.a.createElement("header",null,b.a.createElement(p.a,{type:"left",onClick:this.toHome}),b.a.createElement(p.a,{type:"ellipsis",className:"ellipsis"}))),b.a.createElement(m.a,null),b.a.createElement(i.a,null,b.a.createElement("h2",null," \u624b\u673a\u767b\u5f55")),b.a.createElement(m.a,null),b.a.createElement(i.a,null,b.a.createElement(c.a,null,b.a.createElement(r.a,{type:"number",placeholder:"\u8bf7\u8f93\u5165\u624b\u673a\u53f7",clear:!0,ref:function(t){return e.phone=t},onChange:this.checkPhone},"\u624b\u673a\u53f7")),b.a.createElement(m.a,null),b.a.createElement(c.a,null,b.a.createElement(r.a,{type:"number",placeholder:"\u8bf7\u8f93\u5165\u9a8c\u8bc1\u7801",clear:!0,ref:function(t){return e.code=t},onChange:this.checkCode},"\u9a8c\u8bc1\u7801"),b.a.createElement(o.a,{type:"warning",inline:!0,id:"code-btn",disabled:n,onClick:this.sendCode},l)),b.a.createElement(m.a,null),b.a.createElement(o.a,{id:"login-btn",type:"primary",disabled:a,onClick:function(){e.tologin()}},"\u70b9\u51fb\u767b\u5f55")))}}]),t}(C.Component)}}]);
//# sourceMappingURL=17.fb0bb21e.chunk.js.map