{"version":3,"sources":["utils/axios.js","scripts/mobx/homeData.js","../node_modules/_antd-mobile@2.3.1@antd-mobile/lib/tag/style/css.js","../node_modules/_antd-mobile@2.3.1@antd-mobile/lib/tag/index.js","scripts/views/search/index.js"],"names":["token","axios","defaults","baseURL","headers","common","post","interceptors","request","use","config","msg","sessionStorage","loading","console","log","error","offline","Promise","reject","response","setTimeout","data","hide","success","code","history","push","fail","HomeData","observable","deep","action","then","res","userPhone","phone","home1List","length","home3List","home4List","home5List","zhibo1List","shangchengnav1","shangchengnav2","goodsList","result","iid","goodsDetails","key","searchList","searchFlag","Object","defineProperty","exports","value","_extends3","_interopRequireDefault","_defineProperty3","_classCallCheck3","_createClass3","_possibleConstructorReturn3","_inherits3","_classnames3","React","obj","__esModule","newObj","prototype","hasOwnProperty","call","_interopRequireWildcard","_rmcFeedback2","_getDataAttr2","_icon2","Tag","_React$Component","props","this","_this","__proto__","getPrototypeOf","onClick","_this$props","disabled","onChange","isSelect","state","selected","setState","onTagClose","onClose","closed","afterClose","nextProps","_classnames","_props","children","className","prefixCls","closable","small","style","wrapCls","closableDom","createElement","activeClassName","role","type","size","Component","defaultProps","module","Search","observer","toback","toSearch","e","getSearch","toCancel","getCancel","fontSize","placeholder","ref","autoFocusInst","width","onSubmit","onCancel","map","k","i","src","img","alt","title","price","sale","toDetails"],"mappings":"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","file":"static/js/15.7076ed72.chunk.js","sourcesContent":["\r\nimport axios from \"axios\";\r\nimport {Toast} from \"antd-mobile\"\r\nimport {history} from \"./history\";\r\n\r\nvar token = \"\";\r\n// axios.defaults.baseURL = \"http://localhost:2021/\"   // 基路径\r\naxios.defaults.baseURL = \"http://dengchuang.top:2021/\"   // 基路径\r\naxios.defaults.headers.common['token'] = token;     // token 为 空\r\naxios.defaults.headers.post['Content-Type'] = 'application/x-www-form-urlencoded';\r\n\r\n//封装对应的 成功 失败提示 在下面调用\r\nexport function loadingToast(msg) {\r\n    Toast.loading(msg, 3, () => {\r\n      console.log('Load complete !!!');\r\n    });\r\n}\r\nexport function successToast(msg) {\r\n    Toast.hide();\r\n    Toast.success(msg, 1);\r\n}\r\n\r\nexport function failToast(msg) {\r\n  Toast.hide();\r\n  Toast.fail(msg, 1);\r\n}\r\n\r\nexport function offline(msg) {\r\n  Toast.offline(msg, 1);\r\n}\r\n\r\n\r\n\r\n// axios 拦截器   Interceptors\r\n// 请求 request 拦截器   请求之前业务逻辑 配置 data /headers\r\naxios.interceptors.request.use(function (config) {\r\n  // 请求发送之前做的事情\r\n  \r\n  token = sessionStorage.token ?   sessionStorage.token : \"\";\r\n  config.headers['token']  = token;\r\n  loadingToast(\"努力加载...\");\r\n  return config;\r\n\r\n  \r\n}, function (error) {\r\n  // 请求发送 失败 \r\n  offline(\"请求失败---网络错误!\")\r\n  return Promise.reject(error);\r\n  \r\n});\r\n\r\n\r\n// 响应 response 拦截器   根据返回的状态码 做对应的业务逻辑 \r\naxios.interceptors.response.use(function (response) {\r\n    // 获取到响应数据做的事情\r\n    // console.log(response)\r\n    setTimeout(()=>{\r\n      successToast(response.data.msg);\r\n      \r\n    },1000);\r\n    if(response.data.code==\"400\"){\r\n      history.push(\"/login\");\r\n    };\r\n    \r\n    return response;\r\n\r\n  }, function (error) {\r\n    failToast(\"服务器error-响应失败!!!\");\r\n    return Promise.reject(error);\r\n});\r\n\r\n\r\n\r\n\r\nexport {axios}\r\n\r\n","import {observable,action} from \"mobx\";\r\nimport {axios} from \"~/axios\"\r\nimport { history } from \"~/history.js\";\r\n\r\nclass HomeData{\r\n    @observable bannerList =[]  //banner 图数据\r\n    @observable.deep userPhone =\"\"  //banner 图数据\r\n    @observable.deep home1List =[]  //home1 数据\r\n    @observable.deep home3List =[]  //home3 数据\r\n    @observable.deep home4List =[]  //home4 数据\r\n    @observable.deep home5List =[]  //home5 数据\r\n    \r\n    @observable.deep userPhone =\"\"  //用户手机号\r\n\r\n    @observable.deep zhibo1List =[]  //直播1 数据\r\n    \r\n    @observable.deep shangchengnav1 =[]  //商城nav1 数据\r\n    @observable.deep shangchengnav2 =[]  //商城nav1 数据\r\n    @observable.deep goodsList =[]  //商城nav1 数据\r\n\r\n    @observable.deep goodsDetails =\"\"  //获取商品详情 数据\r\n\r\n    @observable.deep searchFlag=true;      //全选\r\n\r\n    @observable.deep searchList=[];      //查询的商品数据\r\n\r\n\r\n    //请求异步数据\r\n    @action getPhone =()=>{\r\n        axios.post(\"/react/homeGetPhone\").then(res=>{\r\n            this.userPhone =res.data.phone\r\n        })\r\n    }\r\n    \r\n    //请求异步数据\r\n    @action getHome1List =()=>{\r\n        if(this.home1List.length<=0){\r\n            axios.post(\"/react/home1Data\").then(res=>{\r\n                if(res.data.code==400){\r\n                    this.home1List=[] \r\n                }\r\n                if(res.data.code==200){\r\n                    this.home1List =res.data.home1List\r\n                }\r\n            })\r\n\r\n        }\r\n        console.log(this.home1List.length)\r\n    }\r\n\r\n    //请求异步数据\r\n    @action getHome3List =()=>{\r\n        if(this.home3List.length<=0){\r\n            axios.post(\"/react/home3Data\").then(res=>{\r\n                console.log(\"getHome3List\",res)\r\n                this.home3List =res.data.home3List\r\n            })\r\n        }\r\n    }\r\n\r\n    //请求异步数据\r\n    @action getHome4List =()=>{\r\n        if(this.home4List.length<=0){\r\n            axios.post(\"/react/home4Data\").then(res=>{\r\n                if(res.code==400){\r\n                    this.home4List=[]\r\n                }\r\n                console.log(res)\r\n                this.home4List =res.data.home4List\r\n            })\r\n\r\n        }\r\n    }\r\n    //请求异步数据\r\n    @action getHome5List =()=>{\r\n        if(this.home5List.length<=0){\r\n            axios.post(\"/react/home5Data\").then(res=>{\r\n                console.log(res)\r\n                this.home5List =res.data.home5List\r\n            })\r\n\r\n        }\r\n    }\r\n\r\n\r\n    //请求异步 直播01 数据\r\n    @action getZhiBo1List =()=>{\r\n        if(this.zhibo1List.length<=0){\r\n            axios.post(\"/react/zhibo1\").then(res=>{\r\n                console.log(res)\r\n                this.zhibo1List =res.data.zhibo1List\r\n                console.log(res.data.zhibo1List)\r\n            })\r\n\r\n        }\r\n    }\r\n\r\n\r\n    //请求异步 商城01 数据\r\n    @action getShangChengnav1 =()=>{\r\n        if(this.shangchengnav1.length<=0){\r\n            axios.post(\"/react/shangchengnav1\").then(res=>{\r\n                // console.log(res)\r\n                this.shangchengnav1 =res.data.shangchengnav1\r\n                // console.log(res.data.shangchengnav1)\r\n            })\r\n        }\r\n    }\r\n\r\n    //请求异步 商城02 数据\r\n    @action getShangChengnav2 =()=>{\r\n        if(this.shangchengnav2.length<=0){\r\n            axios.post(\"/react/shangchengnav2\").then(res=>{\r\n                // console.log(res)\r\n                this.shangchengnav2 =res.data.shangchengnav2\r\n                // console.log(res.data.shangchengnav2)\r\n            })\r\n\r\n        }\r\n    }\r\n\r\n    //请求异步 商城的商品  数据\r\n    @action getGoodsList =()=>{\r\n        if(this.goodsList.length<=0){\r\n            axios.post(\"/react/getGoods\").then(res=>{\r\n                if(res.code==400){\r\n                    this.goodsList=[]\r\n                }else{\r\n                    console.log(res)\r\n                    this.goodsList =res.data.result\r\n                    console.log(this.goodsList)\r\n                }\r\n            })\r\n\r\n        }\r\n    }\r\n\r\n\r\n    //请求异步 商品详情  数据\r\n    @action GetGoodsDetails =(iid)=>{   \r\n        \r\n            axios.post(\"/react/getGoodsDetails\",iid).then(res=>{\r\n                    console.log(res)\r\n                    this.goodsDetails =res.data.result[0]\r\n                    console.log(this.goodsDetails)\r\n            })  \r\n       \r\n    }\r\n\r\n\r\n    //搜索接口\r\n    @action getSearch =(key)=>{   \r\n            axios.post(\"/react/search\",{key}).then(res=>{\r\n                    console.log(res.data.result)\r\n                    if(res.data.result.length>0){\r\n                        this.searchList =res.data.result\r\n                        this.searchFlag =false\r\n                    }\r\n            })  \r\n    }\r\n\r\n    //取消搜索切换\r\n    @action getCancel=()=>{\r\n        this.searchFlag =true\r\n    }\r\n\r\n\r\n    //获取用户手机号\r\n    @action getUserPhone=()=>{\r\n        if(!this.userPhone){\r\n            axios.post(\"/react/getUserPhone\").then(res=>{\r\n               this.userPhone =res.data.phone\r\n            })\r\n\r\n        }\r\n\r\n    }\r\n\r\n\r\n    \r\n}\r\n\r\nexport default new HomeData;","'use strict';\n\nrequire('../../style/css');\n\nrequire('../../icon/style/css');\n\nrequire('./index.css');","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends2 = require('babel-runtime/helpers/extends');\n\nvar _extends3 = _interopRequireDefault(_extends2);\n\nvar _defineProperty2 = require('babel-runtime/helpers/defineProperty');\n\nvar _defineProperty3 = _interopRequireDefault(_defineProperty2);\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require('babel-runtime/helpers/createClass');\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require('babel-runtime/helpers/inherits');\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _classnames2 = require('classnames');\n\nvar _classnames3 = _interopRequireDefault(_classnames2);\n\nvar _react = require('react');\n\nvar React = _interopRequireWildcard(_react);\n\nvar _rmcFeedback = require('rmc-feedback');\n\nvar _rmcFeedback2 = _interopRequireDefault(_rmcFeedback);\n\nvar _getDataAttr = require('../_util/getDataAttr');\n\nvar _getDataAttr2 = _interopRequireDefault(_getDataAttr);\n\nvar _icon = require('../icon');\n\nvar _icon2 = _interopRequireDefault(_icon);\n\nfunction _interopRequireWildcard(obj) {\n  if (obj && obj.__esModule) {\n    return obj;\n  } else {\n    var newObj = {};\n\n    if (obj != null) {\n      for (var key in obj) {\n        if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key];\n      }\n    }\n\n    newObj['default'] = obj;\n    return newObj;\n  }\n}\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    'default': obj\n  };\n}\n\nvar Tag = function (_React$Component) {\n  (0, _inherits3['default'])(Tag, _React$Component);\n\n  function Tag(props) {\n    (0, _classCallCheck3['default'])(this, Tag);\n\n    var _this = (0, _possibleConstructorReturn3['default'])(this, (Tag.__proto__ || Object.getPrototypeOf(Tag)).call(this, props));\n\n    _this.onClick = function () {\n      var _this$props = _this.props,\n          disabled = _this$props.disabled,\n          onChange = _this$props.onChange;\n\n      if (disabled) {\n        return;\n      }\n\n      var isSelect = _this.state.selected;\n\n      _this.setState({\n        selected: !isSelect\n      }, function () {\n        if (onChange) {\n          onChange(!isSelect);\n        }\n      });\n    };\n\n    _this.onTagClose = function () {\n      if (_this.props.onClose) {\n        _this.props.onClose();\n      }\n\n      _this.setState({\n        closed: true\n      }, _this.props.afterClose);\n    };\n\n    _this.state = {\n      selected: props.selected,\n      closed: false\n    };\n    return _this;\n  }\n\n  (0, _createClass3['default'])(Tag, [{\n    key: 'componentWillReceiveProps',\n    value: function componentWillReceiveProps(nextProps) {\n      if (this.props.selected !== nextProps.selected) {\n        this.setState({\n          selected: nextProps.selected\n        });\n      }\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _classnames;\n\n      var _props = this.props,\n          children = _props.children,\n          className = _props.className,\n          prefixCls = _props.prefixCls,\n          disabled = _props.disabled,\n          closable = _props.closable,\n          small = _props.small,\n          style = _props.style;\n      var wrapCls = (0, _classnames3['default'])(className, prefixCls, (_classnames = {}, (0, _defineProperty3['default'])(_classnames, prefixCls + '-normal', !disabled && (!this.state.selected || small || closable)), (0, _defineProperty3['default'])(_classnames, prefixCls + '-small', small), (0, _defineProperty3['default'])(_classnames, prefixCls + '-active', this.state.selected && !disabled && !small && !closable), (0, _defineProperty3['default'])(_classnames, prefixCls + '-disabled', disabled), (0, _defineProperty3['default'])(_classnames, prefixCls + '-closable', closable), _classnames));\n      var closableDom = closable && !disabled && !small ? React.createElement(_rmcFeedback2['default'], {\n        activeClassName: prefixCls + '-close-active'\n      }, React.createElement('div', {\n        className: prefixCls + '-close',\n        role: 'button',\n        onClick: this.onTagClose,\n        'aria-label': 'remove tag'\n      }, React.createElement(_icon2['default'], {\n        type: 'cross-circle',\n        size: 'xs',\n        'aria-hidden': 'true'\n      }))) : null;\n      return !this.state.closed ? React.createElement('div', (0, _extends3['default'])({}, (0, _getDataAttr2['default'])(this.props), {\n        className: wrapCls,\n        onClick: this.onClick,\n        style: style\n      }), React.createElement('div', {\n        className: prefixCls + '-text'\n      }, children), closableDom) : null;\n    }\n  }]);\n  return Tag;\n}(React.Component);\n\nexports['default'] = Tag;\nTag.defaultProps = {\n  prefixCls: 'am-tag',\n  disabled: false,\n  selected: false,\n  closable: false,\n  small: false,\n  onChange: function onChange() {},\n  onClose: function onClose() {},\n  afterClose: function afterClose() {}\n};\nmodule.exports = exports['default'];","import React , {Component} from \"react\";\r\nimport \"./index.scss\"\r\n\r\nimport { SearchBar,WhiteSpace,Tag ,Button} from \"antd-mobile\"\r\n\r\nimport HomeData from \"../../mobx/homeData\"\r\nimport { observer } from \"mobx-react\"\r\n\r\nimport {history} from \"~/history\"\r\n\r\n@observer\r\nclass Search extends Component {\r\n\r\n    toback=()=>{\r\n        history.push(\"/main/shangcheng\")\r\n    }\r\n\r\n    componentDidMount(){\r\n\r\n    };\r\n\r\n    toSearch=(e)=>{\r\n        // console.log(e.target.value)\r\n        console.log(e)\r\n        HomeData.getSearch(e)\r\n    }\r\n\r\n    toCancel=(e)=>{\r\n        HomeData.getCancel()\r\n    }\r\n\r\n\r\n    render(){\r\n        \r\n        return (\r\n            <div className=\"search\"  >\r\n                {/*  头部 */}\r\n                <div className=\"head\">\r\n                <WhiteSpace />\r\n                <div className=\"top\">\r\n                    <i className=\"iconfont icon-jiaoyinzujifangke\" style={{ fontSize: '22px' }} onClick={this.toback} ></i>\r\n                    <SearchBar \r\n                    placeholder=\"开始种草吧~\" \r\n                    ref={ref => this.autoFocusInst = ref} \r\n                    style={ {width:\"88%\"} }  \r\n                    onSubmit={ (e)=>{this.toSearch(e)} }\r\n                    onCancel={ (e)=>{this.toCancel(e)} }\r\n                     />\r\n                    <i className=\"iconfont icon-xiaoxi1\" key=\"0\" style={{ fontSize: '22px' }} ></i>\r\n                </div>\r\n                </div>\r\n                {/* ------ */}\r\n                {HomeData.searchFlag&&<div className=\"hot\">\r\n                    <h2> <i className=\"iconfont icon-buoumaotubiao45\"></i>  热门搜索 </h2>\r\n                    <div className=\"hotTag\">\r\n                        <Tag className=\"tagp\"  selected>毛衣</Tag>\r\n                        <Tag className=\"tagp\"  >毛呢短裤</Tag>\r\n                        <Tag className=\"tagp\"  selected>小脚牛仔裤</Tag>\r\n                        <Tag className=\"tagp\"  >腰带短裙</Tag>\r\n                        <Tag className=\"tagp\"  selected  >打底裙</Tag>\r\n                        <Tag className=\"tagp\">加绒牛仔裤</Tag>\r\n                        <Tag className=\"tagp\"  >丝绒短裤</Tag>\r\n                        <Tag className=\"tagp\"  >网纱蕾丝</Tag>\r\n                        <Tag className=\"tagp\"  >针织连衣裙</Tag>\r\n                        <Tag className=\"tagp\"  selected>卫衣</Tag>\r\n                    </div>\r\n                    \r\n                    </div>}\r\n\r\n                {/*  搜索后显示的内容 */}\r\n                {\r\n                   !HomeData.searchFlag&&<div className=\"didSearch\" >\r\n                       {\r\n                           HomeData.searchList&&HomeData.searchList.map((k,i)=>{\r\n                               return (\r\n                                   <div className=\"goodsList\" key={i} >\r\n                                       <img src={k.img} alt=\"\"/>\r\n                                       <p> {k.title} </p>\r\n                                       <div className=\"price\">\r\n                                           <b>￥{k.price} </b>\r\n                                           <span> {k.sale}k❤ </span>\r\n                                       </div>\r\n                                       <Button onClick={ ()=>{this.toDetails(k.iid)} } >点击购买</Button>\r\n                                   </div>\r\n                               )\r\n                           })\r\n                       }\r\n\r\n                   </div> \r\n                }\r\n              \r\n\r\n             \r\n\r\n                \r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\n\r\nexport default Search"],"sourceRoot":""}